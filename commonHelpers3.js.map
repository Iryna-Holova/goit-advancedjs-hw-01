{"version":3,"file":"commonHelpers3.js","sources":["../src/js/helpers/feedback-helper.js","../src/js/03-feedback.js"],"sourcesContent":["import common from '../common';\n\n/**\n * Handles the input event on the form and saves the form data to local storage.\n */\nfunction handleDataSave() {\n  const { email, message } = this.elements;\n\n  // Create an object with the email and message values from the form.\n  const formData = {\n    email: email.value,\n    message: message.value,\n  };\n\n  // Save the form data to local storage in JSON format.\n  localStorage.setItem(common.LS_KEY_FORM, JSON.stringify(formData));\n}\n\n/**\n * Handles the form submission event, preventing the default behavior,\n * validating the form fields, logging the form data, resetting the form,\n * and removing saved data from local storage.\n * @param {Event} event - The form submission event.\n */\nfunction handleFormSubmit(event) {\n  event.preventDefault();\n\n  const { email, message } = event.currentTarget.elements;\n  if (!email.value || !message.value) {\n    alert('Please fill all fields');\n    return;\n  }\n\n  const formData = {\n    email: email.value,\n    message: message.value,\n  };\n\n  console.log(formData);\n  event.currentTarget.reset();\n  localStorage.removeItem(common.LS_KEY_FORM);\n}\n\nexport { handleDataSave, handleFormSubmit };\n","import throttle from 'lodash.throttle';\nimport common from './common';\nimport * as helper from './helpers/feedback-helper';\n\nconst form = document.querySelector('.feedback-form');\nconst { email, message } = form.elements;\n\nform.addEventListener('input', throttle(helper.handleDataSave, 500));\nform.addEventListener('submit', helper.handleFormSubmit);\n\n// Check if there is saved form data in the local storage and populate the form fields if available.\nif (localStorage.getItem(common.LS_KEY_FORM)) {\n  try {\n    const savedData = JSON.parse(localStorage.getItem(common.LS_KEY_FORM));\n    // Set the email and message values from the saved data, defaulting to an empty string if undefined.\n    email.value = savedData.email ?? '';\n    message.value = savedData.message ?? '';\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n"],"names":["handleDataSave","email","message","formData","common","handleFormSubmit","event","form","throttle","helper.handleDataSave","helper.handleFormSubmit","savedData","error"],"mappings":"wLAKA,SAASA,GAAiB,CACxB,KAAM,CAAE,MAAAC,EAAO,QAAAC,GAAY,KAAK,SAG1BC,EAAW,CACf,MAAOF,EAAM,MACb,QAASC,EAAQ,KACrB,EAGE,aAAa,QAAQE,EAAO,YAAa,KAAK,UAAUD,CAAQ,CAAC,CACnE,CAQA,SAASE,EAAiBC,EAAO,CAC/BA,EAAM,eAAc,EAEpB,KAAM,CAAE,MAAAL,EAAO,QAAAC,CAAO,EAAKI,EAAM,cAAc,SAC/C,GAAI,CAACL,EAAM,OAAS,CAACC,EAAQ,MAAO,CAClC,MAAM,wBAAwB,EAC9B,MACD,CAED,MAAMC,EAAW,CACf,MAAOF,EAAM,MACb,QAASC,EAAQ,KACrB,EAEE,QAAQ,IAAIC,CAAQ,EACpBG,EAAM,cAAc,QACpB,aAAa,WAAWF,EAAO,WAAW,CAC5C,CCrCA,MAAMG,EAAO,SAAS,cAAc,gBAAgB,EAC9C,CAAE,MAAAN,EAAO,QAAAC,GAAYK,EAAK,SAEhCA,EAAK,iBAAiB,QAASC,EAASC,EAAuB,GAAG,CAAC,EACnEF,EAAK,iBAAiB,SAAUG,CAAuB,EAGvD,GAAI,aAAa,QAAQN,EAAO,WAAW,EACzC,GAAI,CACF,MAAMO,EAAY,KAAK,MAAM,aAAa,QAAQP,EAAO,WAAW,CAAC,EAErEH,EAAM,MAAQU,EAAU,OAAS,GACjCT,EAAQ,MAAQS,EAAU,SAAW,EACtC,OAAQC,EAAP,CACA,QAAQ,IAAIA,EAAM,OAAO,CAC1B"}